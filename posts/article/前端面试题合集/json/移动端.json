[{"title":"移动端视口配置","description":"","answer":"<pre><code class=\"language-html\"><div class=\"language-html \"><span class=\"lang\">html</span><pre class=\"shiki vitesse-light\" style=\"background-color:#ffffff;color:#393a34\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#999999\">&#x3C;</span><span style=\"color:#1E754F\">meta</span><span style=\"color:#B07D48\"> name</span><span style=\"color:#999999\">=</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#B56959\">viewport</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#B07D48\"> content</span><span style=\"color:#999999\">=</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#B56959\">width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#999999\"> /></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"></span></code></pre></div></code></pre>\n<ul>\n<li>initial-scale: 初始的缩放比例；</li>\n<li>minimum-scale: 允许用户缩放到的最小比例；</li>\n<li>maximum-scale: 允许用户缩放到的最大比例；</li>\n<li>user-scalable: 用户是否可以手动缩放；</li>\n</ul>\n"},{"title":"你解决过哪些移动端兼容问题？","description":"","answer":"<ol>\n<li><strong>1px物理像素</strong>：通过 <code>transform: scale(0.5)</code> 或 <code>viewport</code> 的 <code>initial-scale</code> 方案实现细边框；</li>\n<li><strong>iOS滚动回弹</strong>：为滚动容器添加 <code>-webkit-overflow-scrolling: touch</code> 优化流畅度；</li>\n<li><strong>键盘遮挡输入框</strong>：监听 <code>window.resize</code> 或 <code>VisualViewport</code> API，动态滚动页面聚焦输入区域；</li>\n<li><strong>点击300ms延迟</strong>：引入 <code>FastClick</code> 库或使用 <code>touchstart</code> 事件模拟即时响应；</li>\n<li><strong>刘海屏适配</strong>：通过 <code>env(safe-area-inset-*)</code> 调整底部导航栏，避免内容被遮挡。</li>\n<li><strong>高清图模糊</strong>：适配 Retina 屏使用 <code>@2x/@3x</code> 图片，结合 <code>image-set</code> 或媒体查询按需加载；</li>\n<li><strong>软键盘顶起页面</strong>：安卓下键盘可能压缩视口，通过 <code>VisualViewport API</code> 动态调整布局；</li>\n<li><strong>iOS输入框内阴影</strong>：用 <code>-webkit-appearance: none</code> 清除原生样式；</li>\n<li><strong>fixed定位失效</strong>：iOS下改为 <code>absolute</code>，结合滚动容器模拟固定定位；</li>\n<li><strong>字体自动放大</strong>：禁用iOS字体调节 <code>-webkit-text-size-adjust: 100%</code>；</li>\n<li><strong>背景图闪烁</strong>：Android部分机型用 <code>translateZ(0)</code> 触发GPU加速优化渲染。</li>\n</ol>\n"},{"title":"H5 如何解决移动端适配问题？","description":"","answer":"<ol>\n<li><strong>Viewport 适配</strong>\n<ul>\n<li><code>&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;</code> 控制布局视口与设备宽度一致。</li>\n</ul>\n</li>\n<li><strong>动态单位</strong>\n<ul>\n<li><strong>rem 方案</strong>：基于设计稿（如750px），通过 <code>JS</code> 动态计算根字体大小（如 <code>1rem = 75px</code>），结合 <code>postcss-pxtorem</code> 自动转换；</li>\n<li><strong>vw/vh 方案</strong>：直接按视口比例定义尺寸（如 <code>10vw</code> = 视口宽度的10%），无需JS计算。</li>\n</ul>\n</li>\n<li><strong>弹性布局</strong>\n<ul>\n<li><strong>Flexbox/Grid</strong>：实现元素自适应排列，处理间距、对齐、换行等复杂场景。</li>\n</ul>\n</li>\n<li><strong>媒体查询（Media Queries）</strong>\n<ul>\n<li>针对不同屏幕尺寸（如横竖屏、平板）定制样式，如 <code>@media (max-width: 600px) { ... }</code>。</li>\n</ul>\n</li>\n<li><strong>响应式图片</strong>\n<ul>\n<li><code>srcset</code> 和 <code>sizes</code> 属性按设备分辨率加载适配图片，减少流量浪费。</li>\n</ul>\n</li>\n<li><strong>安全区域适配</strong>\n<ul>\n<li>使用 <code>padding: env(safe-area-inset-*)</code> 避开刘海屏、底部Home条遮挡。</li>\n</ul>\n</li>\n</ol>\n"},{"title":"移动端底部 input 被弹出的键盘遮挡问题如何解决？","description":"","answer":"<ol>\n<li><strong>监听键盘弹出事件</strong></li>\n</ol>\n<pre><code class=\"language-javascript\"><div class=\"language-javascript \"><span class=\"lang\">javascript</span><pre class=\"shiki vitesse-light\" style=\"background-color:#ffffff;color:#393a34\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#A0ADA0\">// 监听输入框聚焦事件  </span></span>\n<span class=\"line\"><span style=\"color:#B07D48\">input</span><span style=\"color:#999999\">.</span><span style=\"color:#59873A\">addEventListener</span><span style=\"color:#999999\">(</span><span style=\"color:#B5695977\">'</span><span style=\"color:#B56959\">focus</span><span style=\"color:#B5695977\">'</span><span style=\"color:#999999\">,</span><span style=\"color:#AB5959\"> function</span><span style=\"color:#999999\">()</span><span style=\"color:#999999\"> {</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#59873A\">    setTimeout</span><span style=\"color:#999999\">(()</span><span style=\"color:#999999\"> =></span><span style=\"color:#999999\"> {</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#A0ADA0\">        // 延迟确保键盘完全弹出  </span></span>\n<span class=\"line\"><span style=\"color:#A65E2B\">        this</span><span style=\"color:#999999\">.</span><span style=\"color:#59873A\">scrollIntoView</span><span style=\"color:#999999\">({</span><span style=\"color:#998418\"> behavior</span><span style=\"color:#999999\">:</span><span style=\"color:#B5695977\"> '</span><span style=\"color:#B56959\">smooth</span><span style=\"color:#B5695977\">'</span><span style=\"color:#999999\">,</span><span style=\"color:#998418\"> block</span><span style=\"color:#999999\">:</span><span style=\"color:#B5695977\"> '</span><span style=\"color:#B56959\">center</span><span style=\"color:#B5695977\">'</span><span style=\"color:#999999\"> });</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#999999\">    },</span><span style=\"color:#2F798A\"> 300</span><span style=\"color:#999999\">);</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#999999\">});</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"></span></code></pre></div></code></pre>\n<ol>\n<li><strong>使用 VisualViewport API（推荐）</strong></li>\n</ol>\n<pre><code class=\"language-javascript\"><div class=\"language-javascript \"><span class=\"lang\">javascript</span><pre class=\"shiki vitesse-light\" style=\"background-color:#ffffff;color:#393a34\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#A0ADA0\">// 监听可视区域变化（键盘弹起/收起）  </span></span>\n<span class=\"line\"><span style=\"color:#B07D48\">window</span><span style=\"color:#999999\">.</span><span style=\"color:#B07D48\">visualViewport</span><span style=\"color:#999999\">.</span><span style=\"color:#59873A\">addEventListener</span><span style=\"color:#999999\">(</span><span style=\"color:#B5695977\">'</span><span style=\"color:#B56959\">resize</span><span style=\"color:#B5695977\">'</span><span style=\"color:#999999\">,</span><span style=\"color:#999999\"> ()</span><span style=\"color:#999999\"> =></span><span style=\"color:#999999\"> {</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#AB5959\">    const</span><span style=\"color:#B07D48\"> viewport</span><span style=\"color:#999999\"> =</span><span style=\"color:#B07D48\"> window</span><span style=\"color:#999999\">.</span><span style=\"color:#B07D48\">visualViewport</span><span style=\"color:#999999\">;</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#A0ADA0\">    // 计算输入框底部位置是否超出可视区域  </span></span>\n<span class=\"line\"><span style=\"color:#AB5959\">    const</span><span style=\"color:#B07D48\"> inputRect</span><span style=\"color:#999999\"> =</span><span style=\"color:#B07D48\"> input</span><span style=\"color:#999999\">.</span><span style=\"color:#59873A\">getBoundingClientRect</span><span style=\"color:#999999\">();</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#AB5959\">    const</span><span style=\"color:#B07D48\"> inputBottom</span><span style=\"color:#999999\"> =</span><span style=\"color:#B07D48\"> inputRect</span><span style=\"color:#999999\">.</span><span style=\"color:#B07D48\">bottom</span><span style=\"color:#999999\">;</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#1E754F\">    if</span><span style=\"color:#999999\"> (</span><span style=\"color:#B07D48\">inputBottom</span><span style=\"color:#999999\"> ></span><span style=\"color:#B07D48\"> viewport</span><span style=\"color:#999999\">.</span><span style=\"color:#B07D48\">height</span><span style=\"color:#999999\">)</span><span style=\"color:#999999\"> {</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#B07D48\">        window</span><span style=\"color:#999999\">.</span><span style=\"color:#59873A\">scrollTo</span><span style=\"color:#999999\">(</span><span style=\"color:#2F798A\">0</span><span style=\"color:#999999\">,</span><span style=\"color:#B07D48\"> window</span><span style=\"color:#999999\">.</span><span style=\"color:#B07D48\">scrollY</span><span style=\"color:#AB5959\"> +</span><span style=\"color:#999999\"> (</span><span style=\"color:#B07D48\">inputBottom</span><span style=\"color:#AB5959\"> -</span><span style=\"color:#B07D48\"> viewport</span><span style=\"color:#999999\">.</span><span style=\"color:#B07D48\">height</span><span style=\"color:#999999\">));</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#999999\">    }</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#999999\">});</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"></span></code></pre></div></code></pre>\n<ol>\n<li><strong>CSS 固定定位优化</strong></li>\n</ol>\n<pre><code class=\"language-javascript\"><div class=\"language-javascript \"><span class=\"lang\">javascript</span><pre class=\"shiki vitesse-light\" style=\"background-color:#ffffff;color:#393a34\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#A0ADA0\">/* 安卓键盘可能压缩视口，将输入框容器固定到底部 */</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#999999\">.</span><span style=\"color:#B07D48\">input</span><span style=\"color:#AB5959\">-</span><span style=\"color:#B07D48\">container</span><span style=\"color:#999999\"> {</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#59873A\">    position</span><span style=\"color:#999999\">:</span><span style=\"color:#B07D48\"> fixed</span><span style=\"color:#999999\">;</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#59873A\">    bottom</span><span style=\"color:#999999\">:</span><span style=\"color:#2F798A\"> 0</span><span style=\"color:#999999\">;</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#59873A\">    width</span><span style=\"color:#999999\">:</span><span style=\"color:#2F798A\"> 100</span><span style=\"color:#AB5959\">%</span><span style=\"color:#999999\">;</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#999999\">}</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#A0ADA0\">/* iOS 适配安全区域 */</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#999999\">.</span><span style=\"color:#B07D48\">input</span><span style=\"color:#AB5959\">-</span><span style=\"color:#B07D48\">container</span><span style=\"color:#999999\"> {</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#B07D48\">    padding</span><span style=\"color:#AB5959\">-</span><span style=\"color:#59873A\">bottom</span><span style=\"color:#999999\">:</span><span style=\"color:#59873A\"> env</span><span style=\"color:#999999\">(</span><span style=\"color:#B07D48\">safe</span><span style=\"color:#AB5959\">-</span><span style=\"color:#B07D48\">area</span><span style=\"color:#AB5959\">-</span><span style=\"color:#B07D48\">inset</span><span style=\"color:#AB5959\">-</span><span style=\"color:#B07D48\">bottom</span><span style=\"color:#999999\">);</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#999999\">}</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"></span></code></pre></div></code></pre>\n<p><strong>注意事项</strong>：</p>\n<ul>\n<li><strong>iOS 特殊处理</strong>：部分 iOS 版本需结合 <code>scrollIntoView</code> 和 <code>setTimeout</code> 延时生效；</li>\n<li><strong>Android 兼容</strong>：键盘可能改变视口高度而非滚动，需监听 <code>resize</code> 动态调整；</li>\n<li><strong>第三方库</strong>：复杂场景可考虑使用 <code>react-native-keyboard-aware-scroll-view</code> 等库简化逻辑。</li>\n</ul>\n"},{"title":"如何解决移动端点击穿透问题？","description":"","answer":"<p>通过<strong>延迟隐藏元素</strong>、<strong>阻止事件冒泡</strong>或<strong>统一使用 touch 事件</strong>消除点击延迟导致的穿透现象。</p>\n<ol>\n<li>\n<p><strong>延迟隐藏元素</strong></p>\n<ul>\n<li>元素隐藏（如弹窗关闭）时添加短暂延迟（如300ms），确保后续点击事件被拦截。</li>\n</ul>\n<pre><code class=\"language-javascript\"><div class=\"language-javascript \"><span class=\"lang\">javascript</span><pre class=\"shiki vitesse-light\" style=\"background-color:#ffffff;color:#393a34\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#AB5959\">function</span><span style=\"color:#59873A\"> closeModal</span><span style=\"color:#999999\">()</span><span style=\"color:#999999\"> {</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#B07D48\">    modal</span><span style=\"color:#999999\">.</span><span style=\"color:#B07D48\">style</span><span style=\"color:#999999\">.</span><span style=\"color:#B07D48\">display</span><span style=\"color:#999999\"> =</span><span style=\"color:#B5695977\"> '</span><span style=\"color:#B56959\">none</span><span style=\"color:#B5695977\">'</span><span style=\"color:#999999\">;</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#A0ADA0\">    // 延迟300ms解除事件拦截  </span></span>\n<span class=\"line\"><span style=\"color:#59873A\">    setTimeout</span><span style=\"color:#999999\">(()</span><span style=\"color:#999999\"> =></span><span style=\"color:#999999\"> {</span><span style=\"color:#B07D48\"> document</span><span style=\"color:#999999\">.</span><span style=\"color:#B07D48\">body</span><span style=\"color:#999999\">.</span><span style=\"color:#B07D48\">style</span><span style=\"color:#999999\">.</span><span style=\"color:#B07D48\">pointerEvents</span><span style=\"color:#999999\"> =</span><span style=\"color:#B5695977\"> '</span><span style=\"color:#B56959\">auto</span><span style=\"color:#B5695977\">'</span><span style=\"color:#999999\">;</span><span style=\"color:#999999\"> },</span><span style=\"color:#2F798A\"> 300</span><span style=\"color:#999999\">);</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#999999\">}</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"></span></code></pre></div></code></pre>\n</li>\n<li>\n<p><strong>统一事件类型</strong></p>\n<ul>\n<li>全用 <code>touchstart</code>/<code>touchend</code> 替代 <code>click</code>，避免300ms延迟：</li>\n</ul>\n<pre><code class=\"language-javascript\"><div class=\"language-javascript \"><span class=\"lang\">javascript</span><pre class=\"shiki vitesse-light\" style=\"background-color:#ffffff;color:#393a34\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#B07D48\">button</span><span style=\"color:#999999\">.</span><span style=\"color:#59873A\">addEventListener</span><span style=\"color:#999999\">(</span><span style=\"color:#B5695977\">'</span><span style=\"color:#B56959\">touchend</span><span style=\"color:#B5695977\">'</span><span style=\"color:#999999\">,</span><span style=\"color:#B07D48\"> handler</span><span style=\"color:#999999\">);</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"></span></code></pre></div></code></pre>\n<ul>\n<li>或引入 <strong>FastClick</strong> 库消除点击延迟。</li>\n</ul>\n</li>\n<li>\n<p><strong>阻断事件传播</strong></p>\n<ul>\n<li>上层元素隐藏前拦截 <code>touch</code> 事件：</li>\n</ul>\n<pre><code class=\"language-javascript\"><div class=\"language-javascript \"><span class=\"lang\">javascript</span><pre class=\"shiki vitesse-light\" style=\"background-color:#ffffff;color:#393a34\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#B07D48\">modal</span><span style=\"color:#999999\">.</span><span style=\"color:#59873A\">addEventListener</span><span style=\"color:#999999\">(</span><span style=\"color:#B5695977\">'</span><span style=\"color:#B56959\">touchend</span><span style=\"color:#B5695977\">'</span><span style=\"color:#999999\">,</span><span style=\"color:#B07D48\"> e</span><span style=\"color:#999999\"> =></span><span style=\"color:#999999\"> {</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#B07D48\">    e</span><span style=\"color:#999999\">.</span><span style=\"color:#59873A\">preventDefault</span><span style=\"color:#999999\">();</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#B07D48\">    e</span><span style=\"color:#999999\">.</span><span style=\"color:#59873A\">stopPropagation</span><span style=\"color:#999999\">();</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#999999\">});</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"></span></code></pre></div></code></pre>\n</li>\n<li>\n<p><strong>CSS 阻断穿透</strong></p>\n<ul>\n<li>上层元素隐藏时，临时设置下层不可点击：</li>\n</ul>\n<pre><code class=\"language-css\"><div class=\"language-css \"><span class=\"lang\">css</span><pre class=\"shiki vitesse-light\" style=\"background-color:#ffffff;color:#393a34\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#999999\">.</span><span style=\"color:#B07D48\">mask</span><span style=\"color:#999999\"> {</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#998418\">    pointer-events</span><span style=\"color:#999999\">:</span><span style=\"color:#A65E2B\"> none</span><span style=\"color:#999999\">;</span><span style=\"color:#A0ADA0\">  /* 禁用穿透 */</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#999999\">}</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"></span></code></pre></div></code></pre>\n</li>\n</ol>\n<p><strong>适用场景</strong>：</p>\n<ul>\n<li><strong>弹窗类组件</strong>：延迟关闭 + 事件阻断；</li>\n<li><strong>动态浮层</strong>：统一使用 <code>touch</code> 事件 + FastClick；</li>\n<li><strong>复杂交互</strong>：结合 <code>pointer-events</code> 控制层级点击状态。</li>\n</ul>\n<p><strong>核心原理</strong>：消除点击延迟或阻止事件传递路径，避免上层消失后底层元素误触发。</p>\n"},{"title":"如何解决 1px 问题","description":"","answer":"<p>通过 <strong>CSS Transform 缩放</strong>、<strong>Viewport 缩放</strong>或 <strong>伪元素 + 媒体查询</strong> 模拟物理1像素效果，解决高清屏下CSS 1px变粗问题。</p>\n<ol>\n<li>\n<p><strong>Transform 缩放（常用）</strong></p>\n<pre><code class=\"language-css\"><div class=\"language-css \"><span class=\"lang\">css</span><pre class=\"shiki vitesse-light\" style=\"background-color:#ffffff;color:#393a34\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#999999\">.</span><span style=\"color:#B07D48\">border-1px</span><span style=\"color:#999999\"> {</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#998418\">    position</span><span style=\"color:#999999\">:</span><span style=\"color:#A65E2B\"> relative</span><span style=\"color:#999999\">;</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#999999\">}</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#999999\">.</span><span style=\"color:#B07D48\">border-1px</span><span style=\"color:#999999\">::</span><span style=\"color:#B07D48\">after</span><span style=\"color:#999999\"> {</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#998418\">    content</span><span style=\"color:#999999\">:</span><span style=\"color:#B5695977\"> \"\"</span><span style=\"color:#999999\">;</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#998418\">    position</span><span style=\"color:#999999\">:</span><span style=\"color:#A65E2B\"> absolute</span><span style=\"color:#999999\">;</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#998418\">    left</span><span style=\"color:#999999\">:</span><span style=\"color:#2F798A\"> 0</span><span style=\"color:#999999\">;</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#998418\">    bottom</span><span style=\"color:#999999\">:</span><span style=\"color:#2F798A\"> 0</span><span style=\"color:#999999\">;</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#998418\">    width</span><span style=\"color:#999999\">:</span><span style=\"color:#2F798A\"> 100</span><span style=\"color:#AB5959\">%</span><span style=\"color:#999999\">;</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#998418\">    height</span><span style=\"color:#999999\">:</span><span style=\"color:#2F798A\"> 1</span><span style=\"color:#AB5959\">px</span><span style=\"color:#999999\">;</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#998418\">    background</span><span style=\"color:#999999\">:</span><span style=\"color:#999999\"> #</span><span style=\"color:#A65E2B\">000</span><span style=\"color:#999999\">;</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#998418\">    transform</span><span style=\"color:#999999\">:</span><span style=\"color:#998418\"> scaleY</span><span style=\"color:#999999\">(</span><span style=\"color:#2F798A\">0.5</span><span style=\"color:#999999\">);</span><span style=\"color:#A0ADA0\">  /* Y轴缩放50% */</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#998418\">    transform-origin</span><span style=\"color:#999999\">:</span><span style=\"color:#2F798A\"> 0</span><span style=\"color:#2F798A\"> 100</span><span style=\"color:#AB5959\">%</span><span style=\"color:#999999\">;</span><span style=\"color:#A0ADA0\">  /* 缩放基准点 */</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#999999\">}</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"></span></code></pre></div></code></pre>\n</li>\n<li>\n<p><strong>Viewport 动态缩放（兼容性好）</strong></p>\n<pre><code class=\"language-html\"><div class=\"language-html \"><span class=\"lang\">html</span><pre class=\"shiki vitesse-light\" style=\"background-color:#ffffff;color:#393a34\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#A0ADA0\">&#x3C;!-- 根据设备像素比动态设置 initial-scale --></span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#999999\">&#x3C;</span><span style=\"color:#1E754F\">meta</span><span style=\"color:#B07D48\"> name</span><span style=\"color:#999999\">=</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#B56959\">viewport</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#B07D48\"> content</span><span style=\"color:#999999\">=</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#B56959\">  </span></span>\n<span class=\"line\"><span style=\"color:#B56959\">    width=device-width,  </span></span>\n<span class=\"line\"><span style=\"color:#B56959\">    initial-scale=0.5,  </span></span>\n<span class=\"line\"><span style=\"color:#B56959\">    maximum-scale=0.5,  </span></span>\n<span class=\"line\"><span style=\"color:#B56959\">    minimum-scale=0.5,  </span></span>\n<span class=\"line\"><span style=\"color:#B56959\">    user-scalable=no</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#999999\">></span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"></span></code></pre></div></code></pre>\n<ul>\n<li>设备像素比（dpr）为2时，设置 <code>initial-scale=0.5</code>，此时 CSS 1px 对应物理1像素。</li>\n</ul>\n</li>\n<li>\n<p><strong>媒体查询 + 伪元素（适配多dpr）</strong></p>\n<pre><code class=\"language-css\"><div class=\"language-css \"><span class=\"lang\">css</span><pre class=\"shiki vitesse-light\" style=\"background-color:#ffffff;color:#393a34\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#A0ADA0\">/* 根据设备dpr适配 */</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#999999\">@</span><span style=\"color:#1E754F\">media</span><span style=\"color:#999999\"> (</span><span style=\"color:#998418\">-webkit-min-device-pixel-ratio</span><span style=\"color:#999999\">:</span><span style=\"color:#2F798A\"> 2</span><span style=\"color:#999999\">)</span><span style=\"color:#999999\"> {</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#999999\">    .</span><span style=\"color:#B07D48\">border-1px</span><span style=\"color:#999999\">::</span><span style=\"color:#B07D48\">after</span><span style=\"color:#999999\"> {</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#998418\">        transform</span><span style=\"color:#999999\">:</span><span style=\"color:#998418\"> scaleY</span><span style=\"color:#999999\">(</span><span style=\"color:#2F798A\">0.5</span><span style=\"color:#999999\">);</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#999999\">    }</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#999999\">}</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#999999\">@</span><span style=\"color:#1E754F\">media</span><span style=\"color:#999999\"> (</span><span style=\"color:#998418\">-webkit-min-device-pixel-ratio</span><span style=\"color:#999999\">:</span><span style=\"color:#2F798A\"> 3</span><span style=\"color:#999999\">)</span><span style=\"color:#999999\"> {</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#999999\">    .</span><span style=\"color:#B07D48\">border-1px</span><span style=\"color:#999999\">::</span><span style=\"color:#B07D48\">after</span><span style=\"color:#999999\"> {</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#998418\">        transform</span><span style=\"color:#999999\">:</span><span style=\"color:#998418\"> scaleY</span><span style=\"color:#999999\">(</span><span style=\"color:#2F798A\">0.33</span><span style=\"color:#999999\">);</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#999999\">    }</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#999999\">}</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"></span></code></pre></div></code></pre>\n</li>\n<li>\n<p><strong>SVG 或 border-image（圆角支持）</strong></p>\n<pre><code class=\"language-css\"><div class=\"language-css \"><span class=\"lang\">css</span><pre class=\"shiki vitesse-light\" style=\"background-color:#ffffff;color:#393a34\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#999999\">.</span><span style=\"color:#B07D48\">border-1px</span><span style=\"color:#999999\"> {</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#998418\">    border-bottom</span><span style=\"color:#999999\">:</span><span style=\"color:#2F798A\"> 1</span><span style=\"color:#AB5959\">px</span><span style=\"color:#A65E2B\"> solid</span><span style=\"color:#A65E2B\"> transparent</span><span style=\"color:#999999\">;</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#998418\">    border-image</span><span style=\"color:#999999\">:</span><span style=\"color:#998418\"> url</span><span style=\"color:#999999\">(</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#B56959\">data:image/svg+xml,&#x3C;svg>...</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#999999\">)</span><span style=\"color:#2F798A\"> 2</span><span style=\"color:#A65E2B\"> stretch</span><span style=\"color:#999999\">;</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#999999\">}</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"></span></code></pre></div></code></pre>\n</li>\n</ol>\n<p><strong>注意事项</strong>：</p>\n<ul>\n<li><strong>场景适配</strong>：<code>transform</code> 方案需额外处理圆角，<code>viewport</code> 缩放可能影响布局；</li>\n<li><strong>框架集成</strong>：如 Vant 内置 <code>hairline</code> 类，可直接使用；</li>\n<li><strong>原理本质</strong>：通过缩放或像素密度映射，让视觉宽度 ≈ 物理1像素。</li>\n</ul>\n"},{"title":"如何处理移动端图片模糊（Retina屏适配）？","description":"","answer":"<p>通过 <strong>适配设备像素比（DPR）加载高清图</strong>、<strong>使用矢量图（SVG）</strong> 或 <strong>CSS媒体查询</strong> 精准匹配屏幕密度，解决Retina屏图片模糊问题。</p>\n<p><strong>具体解决方案</strong>：</p>\n<ol>\n<li>\n<p><strong>高清图适配（2x/3x图）</strong></p>\n<ul>\n<li><strong>原理</strong>：根据设备DPR（如iPhone的DPR=2/3）加载对应倍图。</li>\n<li><strong>实现方式</strong>：<pre><code class=\"language-html\"><div class=\"language-html \"><span class=\"lang\">html</span><pre class=\"shiki vitesse-light\" style=\"background-color:#ffffff;color:#393a34\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#A0ADA0\">&#x3C;!-- srcset + sizes --></span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#999999\">&#x3C;</span><span style=\"color:#1E754F\">img</span><span style=\"color:#B07D48\"> src</span><span style=\"color:#999999\">=</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#B56959\">image-1x.jpg</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#B07D48\">     srcset</span><span style=\"color:#999999\">=</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#B56959\">image-2x.jpg 2x, image-3x.jpg 3x</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#B07D48\">     alt</span><span style=\"color:#999999\">=</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#B56959\">Retina Image</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#999999\">></span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#A0ADA0\">&#x3C;!-- picture标签多格式适配 --></span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#999999\">&#x3C;</span><span style=\"color:#1E754F\">picture</span><span style=\"color:#999999\">></span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#999999\">  &#x3C;</span><span style=\"color:#1E754F\">source</span><span style=\"color:#B07D48\"> srcset</span><span style=\"color:#999999\">=</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#B56959\">image.webp 1x, image-2x.webp 2x</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#B07D48\"> type</span><span style=\"color:#999999\">=</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#B56959\">image/webp</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#999999\">></span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#999999\">  &#x3C;</span><span style=\"color:#1E754F\">img</span><span style=\"color:#B07D48\"> src</span><span style=\"color:#999999\">=</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#B56959\">image.jpg</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#B07D48\"> srcset</span><span style=\"color:#999999\">=</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#B56959\">image-2x.jpg 2x</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#B07D48\"> alt</span><span style=\"color:#999999\">=</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#B56959\">Adaptive Image</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#999999\">></span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#999999\">&#x3C;/</span><span style=\"color:#1E754F\">picture</span><span style=\"color:#999999\">></span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"></span></code></pre></div></code></pre>\n<pre><code class=\"language-css\"><div class=\"language-css \"><span class=\"lang\">css</span><pre class=\"shiki vitesse-light\" style=\"background-color:#ffffff;color:#393a34\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#A0ADA0\">/* CSS image-set */</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#999999\">.</span><span style=\"color:#B07D48\">retina-bg</span><span style=\"color:#999999\"> {</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#998418\">  background-image</span><span style=\"color:#999999\">:</span><span style=\"color:#998418\"> url</span><span style=\"color:#999999\">(</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#B56959\">image-1x.jpg</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#999999\">);</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#998418\">  background-image</span><span style=\"color:#999999\">:</span><span style=\"color:#998418\"> image-set</span><span style=\"color:#999999\">(</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#B56959\">image-1x.jpg</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#2F798A\"> 1x</span><span style=\"color:#999999\">,</span><span style=\"color:#B5695977\"> \"</span><span style=\"color:#B56959\">image-2x.jpg</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#2F798A\"> 2x</span><span style=\"color:#999999\">);</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#999999\">}</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"></span></code></pre></div></code></pre>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>矢量图（SVG）方案</strong></p>\n<ul>\n<li><strong>优势</strong>：无限缩放不模糊，适合图标、简单图形。</li>\n<li><strong>使用</strong>：<pre><code class=\"language-html\"><div class=\"language-html \"><span class=\"lang\">html</span><pre class=\"shiki vitesse-light\" style=\"background-color:#ffffff;color:#393a34\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#999999\">&#x3C;</span><span style=\"color:#1E754F\">img</span><span style=\"color:#B07D48\"> src</span><span style=\"color:#999999\">=</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#B56959\">logo.svg</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#B07D48\"> alt</span><span style=\"color:#999999\">=</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#B56959\">SVG Logo</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#999999\">></span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#A0ADA0\">&#x3C;!-- 或内联SVG --></span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#999999\">&#x3C;</span><span style=\"color:#1E754F\">svg</span><span style=\"color:#B07D48\"> width</span><span style=\"color:#999999\">=</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#B56959\">100</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#B07D48\"> height</span><span style=\"color:#999999\">=</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#B56959\">100</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#999999\">></span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#999999\">  &#x3C;</span><span style=\"color:#1E754F\">circle</span><span style=\"color:#B07D48\"> cx</span><span style=\"color:#999999\">=</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#B56959\">50</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#B07D48\"> cy</span><span style=\"color:#999999\">=</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#B56959\">50</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#B07D48\"> r</span><span style=\"color:#999999\">=</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#B56959\">40</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#B07D48\"> fill</span><span style=\"color:#999999\">=</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#B56959\">#f00</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#999999\">/></span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#999999\">&#x3C;/</span><span style=\"color:#1E754F\">svg</span><span style=\"color:#999999\">></span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"></span></code></pre></div></code></pre>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>媒体查询按DPR加载</strong></p>\n<pre><code class=\"language-css\"><div class=\"language-css \"><span class=\"lang\">css</span><pre class=\"shiki vitesse-light\" style=\"background-color:#ffffff;color:#393a34\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#A0ADA0\">/* 根据DPR选择背景图 */</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#999999\">@</span><span style=\"color:#1E754F\">media</span><span style=\"color:#999999\"> (</span><span style=\"color:#998418\">-webkit-min-device-pixel-ratio</span><span style=\"color:#999999\">:</span><span style=\"color:#2F798A\"> 2</span><span style=\"color:#999999\">),</span><span style=\"color:#999999\"> (</span><span style=\"color:#998418\">min-resolution</span><span style=\"color:#999999\">:</span><span style=\"color:#2F798A\"> 192</span><span style=\"color:#AB5959\">dpi</span><span style=\"color:#999999\">)</span><span style=\"color:#999999\"> {</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#999999\">  .</span><span style=\"color:#B07D48\">banner</span><span style=\"color:#999999\"> {</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#998418\">    background-image</span><span style=\"color:#999999\">:</span><span style=\"color:#998418\"> url</span><span style=\"color:#999999\">(</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#B56959\">image-2x.jpg</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#999999\">);</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#999999\">  }</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#999999\">}</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"></span></code></pre></div></code></pre>\n</li>\n<li>\n<p><strong>图标字体（IconFont）与CSS绘制</strong></p>\n<ul>\n<li><strong>图标字体</strong>：用字体工具（如Fontello）生成字体文件，通过<code>font-size</code>控制大小。</li>\n<li><strong>CSS绘制</strong>：用<code>border</code>、<code>box-shadow</code>等绘制简单图形，无失真。<pre><code class=\"language-css\"><div class=\"language-css \"><span class=\"lang\">css</span><pre class=\"shiki vitesse-light\" style=\"background-color:#ffffff;color:#393a34\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#999999\">.</span><span style=\"color:#B07D48\">triangle</span><span style=\"color:#999999\"> {</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#998418\">  width</span><span style=\"color:#999999\">:</span><span style=\"color:#2F798A\"> 0</span><span style=\"color:#999999\">;</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#998418\">  height</span><span style=\"color:#999999\">:</span><span style=\"color:#2F798A\"> 0</span><span style=\"color:#999999\">;</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#998418\">  border-left</span><span style=\"color:#999999\">:</span><span style=\"color:#2F798A\"> 10</span><span style=\"color:#AB5959\">px</span><span style=\"color:#A65E2B\"> solid</span><span style=\"color:#A65E2B\"> transparent</span><span style=\"color:#999999\">;</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#998418\">  border-right</span><span style=\"color:#999999\">:</span><span style=\"color:#2F798A\"> 10</span><span style=\"color:#AB5959\">px</span><span style=\"color:#A65E2B\"> solid</span><span style=\"color:#A65E2B\"> transparent</span><span style=\"color:#999999\">;</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#998418\">  border-bottom</span><span style=\"color:#999999\">:</span><span style=\"color:#2F798A\"> 20</span><span style=\"color:#AB5959\">px</span><span style=\"color:#A65E2B\"> solid</span><span style=\"color:#999999\"> #</span><span style=\"color:#A65E2B\">333</span><span style=\"color:#999999\">;</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#999999\">}</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"></span></code></pre></div></code></pre>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>图片压缩与格式优化</strong></p>\n<ul>\n<li><strong>格式选择</strong>：\n<ul>\n<li><strong>WebP</strong>：高压缩率，支持透明（需兼容处理）；</li>\n<li><strong>AVIF</strong>：下一代格式，压缩率更高（兼容性待提升）。</li>\n</ul>\n</li>\n<li><strong>兼容写法</strong>：<pre><code class=\"language-html\"><div class=\"language-html \"><span class=\"lang\">html</span><pre class=\"shiki vitesse-light\" style=\"background-color:#ffffff;color:#393a34\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#999999\">&#x3C;</span><span style=\"color:#1E754F\">picture</span><span style=\"color:#999999\">></span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#999999\">  &#x3C;</span><span style=\"color:#1E754F\">source</span><span style=\"color:#B07D48\"> srcset</span><span style=\"color:#999999\">=</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#B56959\">image.avif</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#B07D48\"> type</span><span style=\"color:#999999\">=</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#B56959\">image/avif</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#999999\">></span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#999999\">  &#x3C;</span><span style=\"color:#1E754F\">source</span><span style=\"color:#B07D48\"> srcset</span><span style=\"color:#999999\">=</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#B56959\">image.webp</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#B07D48\"> type</span><span style=\"color:#999999\">=</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#B56959\">image/webp</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#999999\">></span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#999999\">  &#x3C;</span><span style=\"color:#1E754F\">img</span><span style=\"color:#B07D48\"> src</span><span style=\"color:#999999\">=</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#B56959\">image.jpg</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#B07D48\"> alt</span><span style=\"color:#999999\">=</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#B56959\">Fallback</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#999999\">></span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#999999\">&#x3C;/</span><span style=\"color:#1E754F\">picture</span><span style=\"color:#999999\">></span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"></span></code></pre></div></code></pre>\n</li>\n</ul>\n</li>\n</ol>\n<p><strong>注意事项</strong>：</p>\n<ul>\n<li><strong>体积平衡</strong>：高清图体积大，需结合懒加载（<code>loading=&quot;lazy&quot;</code>）或CDN加速；</li>\n<li><strong>动态缩放场景</strong>：图片需预生成多尺寸版本（如七牛云/阿里云OSS图片处理）；</li>\n<li><strong>框架集成</strong>：Vue/React项目可使用 <code>&lt;ResponsiveImage&gt;</code> 组件封装逻辑；</li>\n<li><strong>测试验证</strong>：使用Chrome设备模式切换DPR，或真机测试确保效果。</li>\n</ul>\n<p><strong>总结</strong>：根据场景选择 <strong>倍图+媒体查询</strong>（复杂图片）、<strong>SVG/图标字体</strong>（图形图标）、<strong>WebP压缩</strong>（大图优化），结合懒加载与CDN，实现高清与性能的平衡。</p>\n"},{"title":"position: fixed 在移动端失效的问题，如何解决？","description":"","answer":""},{"title":"移动端安全区域（刘海屏、底部 Home 条）如何适配？","description":"","answer":"<p>通过 <strong>CSS环境变量</strong>（<code>env()</code>/<code>constant()</code>）动态调整边距，结合 <code>viewport-fit=cover</code> 适配刘海屏与底部安全区域，确保内容不被遮挡。</p>\n<p><strong>具体适配方案</strong>：</p>\n<p><strong>1. 设置 Viewport Meta</strong></p>\n<pre><code class=\"language-html\"><div class=\"language-html \"><span class=\"lang\">html</span><pre class=\"shiki vitesse-light\" style=\"background-color:#ffffff;color:#393a34\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#A0ADA0\">&#x3C;!-- 关键：viewport-fit=cover 允许内容延伸至安全区域 --></span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#999999\">&#x3C;</span><span style=\"color:#1E754F\">meta</span><span style=\"color:#B07D48\"> name</span><span style=\"color:#999999\">=</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#B56959\">viewport</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#B07D48\"> content</span><span style=\"color:#999999\">=</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#B56959\">width=device-width, initial-scale=1.0, viewport-fit=cover</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#999999\">></span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"></span></code></pre></div></code></pre>\n<p><strong>2. 安全区域 CSS 变量</strong></p>\n<ul>\n<li><strong>iOS</strong>：<pre><code class=\"language-css\"><div class=\"language-css \"><span class=\"lang\">css</span><pre class=\"shiki vitesse-light\" style=\"background-color:#ffffff;color:#393a34\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#A0ADA0\">/* 兼容旧版 iOS */</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#1E754F\">padding-bottom</span><span style=\"color:#393A34\">: constant(</span><span style=\"color:#1E754F\">safe-area-inset-bottom</span><span style=\"color:#393A34\">);  </span></span>\n<span class=\"line\"><span style=\"color:#A0ADA0\">/* 新版 iOS */</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#1E754F\">padding-bottom</span><span style=\"color:#393A34\">: env(</span><span style=\"color:#1E754F\">safe-area-inset-bottom</span><span style=\"color:#393A34\">);  </span></span>\n<span class=\"line\"></span></code></pre></div></code></pre>\n</li>\n<li><strong>Android</strong>：部分机型需通过 <code>-webkit-fill-available</code> 适配：<pre><code class=\"language-css\"><div class=\"language-css \"><span class=\"lang\">css</span><pre class=\"shiki vitesse-light\" style=\"background-color:#ffffff;color:#393a34\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#1E754F\">min-height</span><span style=\"color:#393A34\">: 100vh;  </span></span>\n<span class=\"line\"><span style=\"color:#1E754F\">min-height</span><span style=\"color:#393A34\">: -webkit-fill-available; </span><span style=\"color:#A0ADA0\">/* Android兼容 */</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"></span></code></pre></div></code></pre>\n</li>\n</ul>\n<p><strong>3. 常见场景适配</strong></p>\n<p><strong>A. 底部固定导航栏</strong></p>\n<pre><code class=\"language-css\"><div class=\"language-css \"><span class=\"lang\">css</span><pre class=\"shiki vitesse-light\" style=\"background-color:#ffffff;color:#393a34\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#999999\">.</span><span style=\"color:#B07D48\">tab-bar</span><span style=\"color:#999999\"> {</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#998418\">  position</span><span style=\"color:#999999\">:</span><span style=\"color:#A65E2B\"> fixed</span><span style=\"color:#999999\">;</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#998418\">  bottom</span><span style=\"color:#999999\">:</span><span style=\"color:#2F798A\"> 0</span><span style=\"color:#999999\">;</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#998418\">  left</span><span style=\"color:#999999\">:</span><span style=\"color:#2F798A\"> 0</span><span style=\"color:#999999\">;</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#998418\">  right</span><span style=\"color:#999999\">:</span><span style=\"color:#2F798A\"> 0</span><span style=\"color:#999999\">;</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#A0ADA0\">  /* 动态留出底部安全区域 */</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#998418\">  padding-bottom</span><span style=\"color:#999999\">:</span><span style=\"color:#393A34\"> env(safe-area-inset-bottom)</span><span style=\"color:#999999\">;</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#998418\">  background</span><span style=\"color:#999999\">:</span><span style=\"color:#999999\"> #</span><span style=\"color:#A65E2B\">fff</span><span style=\"color:#999999\">;</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#999999\">}</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"></span></code></pre></div></code></pre>\n<p><strong>B. 全屏背景图避开刘海</strong></p>\n<pre><code class=\"language-css\"><div class=\"language-css \"><span class=\"lang\">css</span><pre class=\"shiki vitesse-light\" style=\"background-color:#ffffff;color:#393a34\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#999999\">.</span><span style=\"color:#B07D48\">container</span><span style=\"color:#999999\"> {</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#998418\">  padding</span><span style=\"color:#999999\">:</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#393A34\">    env(safe-area-inset-top)  </span></span>\n<span class=\"line\"><span style=\"color:#998418\">    env</span><span style=\"color:#393A34\">(</span><span style=\"color:#998418\">safe-area-inset-right</span><span style=\"color:#393A34\">)  </span></span>\n<span class=\"line\"><span style=\"color:#998418\">    env</span><span style=\"color:#393A34\">(</span><span style=\"color:#998418\">safe-area-inset-bottom</span><span style=\"color:#393A34\">)  </span></span>\n<span class=\"line\"><span style=\"color:#998418\">    env</span><span style=\"color:#393A34\">(</span><span style=\"color:#998418\">safe-area-inset-left</span><span style=\"color:#393A34\">)</span><span style=\"color:#999999\">;</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#999999\">}</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"></span></code></pre></div></code></pre>\n<p><strong>C. 顶部导航栏适配（iOS）</strong></p>\n<pre><code class=\"language-css\"><div class=\"language-css \"><span class=\"lang\">css</span><pre class=\"shiki vitesse-light\" style=\"background-color:#ffffff;color:#393a34\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#999999\">.</span><span style=\"color:#B07D48\">header</span><span style=\"color:#999999\"> {</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#998418\">  padding-top</span><span style=\"color:#999999\">:</span><span style=\"color:#393A34\"> env(safe-area-inset-top)</span><span style=\"color:#999999\">;</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#998418\">  height</span><span style=\"color:#999999\">:</span><span style=\"color:#998418\"> calc</span><span style=\"color:#999999\">(</span><span style=\"color:#2F798A\">44</span><span style=\"color:#AB5959\">px</span><span style=\"color:#AB5959\"> +</span><span style=\"color:#393A34\"> env(safe-area-inset-top</span><span style=\"color:#999999\">)</span><span style=\"color:#393A34\">)</span><span style=\"color:#999999\">;</span><span style=\"color:#A0ADA0\"> /* 44px为导航栏标准高度 */</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#999999\">}</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"></span></code></pre></div></code></pre>\n<p><strong>框架集成示例</strong></p>\n<ul>\n<li><strong>Vant组件库</strong>：内置 <code>safe-area-inset-top</code> 和 <code>safe-area-inset-bottom</code> 类名：<pre><code class=\"language-html\"><div class=\"language-html \"><span class=\"lang\">html</span><pre class=\"shiki vitesse-light\" style=\"background-color:#ffffff;color:#393a34\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#A0ADA0\">&#x3C;!-- 自动添加顶部安全区间距 --></span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#999999\">&#x3C;</span><span style=\"color:#1E754F\">van-nav-bar</span><span style=\"color:#B07D48\"> title</span><span style=\"color:#999999\">=</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#B56959\">标题</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#B07D48\"> class</span><span style=\"color:#999999\">=</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#B56959\">safe-area-inset-top</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#999999\"> /></span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"></span></code></pre></div></code></pre>\n</li>\n<li><strong>uni-app</strong>：通过 <code>uni.addSafeAreaInsets()</code> API 动态获取安全区域数据。</li>\n</ul>\n<p><strong>注意事项</strong></p>\n<ol>\n<li><strong>兼容性</strong>：\n<ul>\n<li><code>env()</code> 支持 iOS 11+ 和 Android 9+；</li>\n<li>旧版 iOS 需同时写 <code>constant()</code> 和 <code>env()</code>：<pre><code class=\"language-css\"><div class=\"language-css \"><span class=\"lang\">css</span><pre class=\"shiki vitesse-light\" style=\"background-color:#ffffff;color:#393a34\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#1E754F\">padding-top</span><span style=\"color:#393A34\">: constant(</span><span style=\"color:#1E754F\">safe-area-inset-top</span><span style=\"color:#393A34\">);  </span></span>\n<span class=\"line\"><span style=\"color:#1E754F\">padding-top</span><span style=\"color:#393A34\">: env(</span><span style=\"color:#1E754F\">safe-area-inset-top</span><span style=\"color:#393A34\">);  </span></span>\n<span class=\"line\"></span></code></pre></div></code></pre>\n</li>\n</ul>\n</li>\n<li><strong>横屏模式</strong>：重新计算安全区域（监听 <code>resize</code> 事件动态更新）；</li>\n<li><strong>真机调试</strong>：iOS 可通过 Safari 开发者工具查看安全区域，Android 使用 Chrome 设备模式模拟；</li>\n<li><strong>兜底方案</strong>：对低版本设备设置固定边距（如 iPhone X 底部 34px）。</li>\n</ol>\n<p><strong>总结</strong>：<strong>环境变量 + 动态计算</strong>为核心方案，覆盖 95% 主流机型，特殊场景辅以 JavaScript 计算或框架能力，确保全设备兼容。</p>\n"},{"title":"如何解决 CSS 动画在某些设备上出现卡顿或闪烁问题？","description":"","answer":""},{"title":"如何精确还原设计稿？","description":"<p>通过<strong>设计稿标注工具 + 像素级核对 + 动态单位换算</strong>还原视觉细节，结合<strong>组件化思维</strong>与<strong>多端适配策略</strong>确保高保真实现。</p>\n<p><strong>具体实现步骤</strong></p>\n<p><strong>一、设计稿预处理</strong></p>\n<ol>\n<li>\n<p><strong>确认基础参数</strong></p>\n<ul>\n<li>设计稿尺寸（如375x667，基于iPhone 6/7/8）；</li>\n<li>设备像素比（DPR，通常2x或3x）；</li>\n<li>字体单位（是否使用PT/SP，需转换为CSS单位）。</li>\n</ul>\n</li>\n<li>\n<p><strong>使用协作工具提取标注</strong></p>\n<ul>\n<li><strong>Figma/Sketch</strong>：通过 <code>Zeplin</code>、<code>蓝湖</code> 导出颜色、尺寸、间距代码片段；</li>\n<li><strong>Photoshop</strong>：使用 <code>PSD Cook</code> 插件自动生成样式数据。</li>\n</ul>\n</li>\n</ol>\n<p><strong>二、像素级开发策略</strong></p>\n<ol>\n<li>\n<p><strong>单位换算</strong></p>\n<ul>\n<li>\n<p><strong>绝对单位转相对单位</strong>：</p>\n<pre><code class=\"language-scss\"><div class=\"language-text \"><span class=\"lang\">text</span><pre class=\"shiki vitesse-light\" style=\"background-color:#ffffff;color:#393a34\" tabindex=\"0\"><code><span class=\"line\"><span>// 设计稿375px宽度下，1rem = 37.5px（基于postcss-pxtorem自动转换）  </span></span>\n<span class=\"line\"><span>$baseFontSize: 37.5px;  </span></span>\n<span class=\"line\"><span>.title {  </span></span>\n<span class=\"line\"><span>  font-size: 16px; /* 转换为16/37.5=0.4267rem */  </span></span>\n<span class=\"line\"><span>}  </span></span>\n<span class=\"line\"><span></span></span></code></pre></div></code></pre>\n</li>\n<li>\n<p><strong>使用VW/VH动态适配</strong>：</p>\n<pre><code class=\"language-css\"><div class=\"language-css \"><span class=\"lang\">css</span><pre class=\"shiki vitesse-light\" style=\"background-color:#ffffff;color:#393a34\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#A0ADA0\">/* 设计稿元素宽度100px → 100/375*100 = 26.666vw */</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#999999\">.</span><span style=\"color:#B07D48\">box</span><span style=\"color:#999999\"> {</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#998418\">  width</span><span style=\"color:#999999\">:</span><span style=\"color:#2F798A\"> 26.666</span><span style=\"color:#AB5959\">vw</span><span style=\"color:#999999\">;</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#999999\">}</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"></span></code></pre></div></code></pre>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>间距与对齐</strong></p>\n<ul>\n<li><strong>Flex/Grid布局</strong>：确保元素间距与设计稿一致，使用 <code>gap</code> 属性替代传统 <code>margin</code>；</li>\n<li><strong>间距工具类</strong>：预定义间距原子类（如<code>.mt-8 { margin-top: 8px }</code>）。</li>\n</ul>\n</li>\n<li>\n<p><strong>字体与行高</strong></p>\n<ul>\n<li><strong>字体抗锯齿优化</strong>：<pre><code class=\"language-css\"><div class=\"language-css \"><span class=\"lang\">css</span><pre class=\"shiki vitesse-light\" style=\"background-color:#ffffff;color:#393a34\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#1E754F\">body</span><span style=\"color:#999999\"> {</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#998418\">  -webkit-font-smoothing</span><span style=\"color:#999999\">:</span><span style=\"color:#A65E2B\"> antialiased</span><span style=\"color:#999999\">;</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#998418\">  text-rendering</span><span style=\"color:#999999\">:</span><span style=\"color:#A65E2B\"> optimizeLegibility</span><span style=\"color:#999999\">;</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#999999\">}</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"></span></code></pre></div></code></pre>\n</li>\n<li><strong>行高计算</strong>：行高值 = 设计稿行高 / 字体大小（如 <code>16px字体，行高24px → line-height: 1.5</code>）。</li>\n</ul>\n</li>\n</ol>\n<p><strong>三、组件化开发</strong></p>\n<ol>\n<li>\n<p><strong>UI组件拆分</strong></p>\n<ul>\n<li>按设计稿模块抽离为可复用组件（按钮、卡片、表单）；</li>\n<li>使用 <code>Storybook</code> 或 <code>Bit</code> 维护组件库，确保视觉一致性。</li>\n</ul>\n</li>\n<li>\n<p><strong>样式隔离</strong></p>\n<ul>\n<li><strong>CSS Modules/Scoped CSS</strong>：避免全局样式污染；</li>\n<li><strong>BEM命名规范</strong>：如 <code>.button--primary__icon</code> 提升可维护性。</li>\n</ul>\n</li>\n</ol>\n<p><strong>四、多端适配验证</strong></p>\n<ol>\n<li>\n<p><strong>设备覆盖测试</strong></p>\n<ul>\n<li><strong>真机调试</strong>：覆盖iOS/Android主流机型（iPhone X/13、三星S22等）；</li>\n<li><strong>Chrome模拟器</strong>：测试不同DPR、分辨率下的显示效果。</li>\n</ul>\n</li>\n<li>\n<p><strong>动态内容适配</strong></p>\n<ul>\n<li><strong>文本折行</strong>：控制 <code>overflow-wrap</code> 和 <code>max-width</code> 防止内容溢出；</li>\n<li><strong>图片比例</strong>：使用 <code>aspect-ratio</code> 或 <code>padding-top</code> 百分比保持设计稿比例。</li>\n</ul>\n</li>\n</ol>\n<p><strong>工具链推荐</strong></p>\n<table>\n<thead>\n<tr>\n<th><strong>工具类型</strong></th>\n<th><strong>推荐工具</strong></th>\n<th><strong>核心功能</strong></th>\n</tr>\n</thead>\n</table>\n","answer":""},{"title":"WebView 性能优化有哪些常见手段？","description":"<p>WebView性能优化通过<strong>资源加载加速</strong>、<strong>渲染流程优化</strong>、<strong>缓存策略</strong>及<strong>通信机制升级</strong>全面提升体验，减少白屏与卡顿。</p>\n<p><strong>具体优化手段</strong>  <strong>一、资源加载优化</strong></p>\n<ol>\n<li>\n<p><strong>资源压缩与合并</strong></p>\n<ul>\n<li><strong>代码压缩</strong>：使用Webpack/Rollup对HTML/CSS/JS进行Tree Shaking、Uglify；</li>\n<li><strong>图片优化</strong>：转为WebP/AVIF格式，配合懒加载（<code>loading=&quot;lazy&quot;</code>）；</li>\n<li><strong>文件合并</strong>：将小图合并为雪碧图，减少HTTP请求。</li>\n</ul>\n</li>\n<li>\n<p><strong>预加载关键资源</strong></p>\n<pre><code class=\"language-html\"><div class=\"language-html \"><span class=\"lang\">html</span><pre class=\"shiki vitesse-light\" style=\"background-color:#ffffff;color:#393a34\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#A0ADA0\">&#x3C;!-- DNS预解析 --></span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#999999\">&#x3C;</span><span style=\"color:#1E754F\">link</span><span style=\"color:#B07D48\"> rel</span><span style=\"color:#999999\">=</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#B56959\">dns-prefetch</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#B07D48\"> href</span><span style=\"color:#999999\">=</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#B56959\">//cdn.example.com</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#999999\">></span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#A0ADA0\">&#x3C;!-- 预加载核心CSS/JS --></span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#999999\">&#x3C;</span><span style=\"color:#1E754F\">link</span><span style=\"color:#B07D48\"> rel</span><span style=\"color:#999999\">=</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#B56959\">preload</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#B07D48\"> href</span><span style=\"color:#999999\">=</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#B56959\">main.css</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#B07D48\"> as</span><span style=\"color:#999999\">=</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#B56959\">style</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#999999\">></span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#999999\">&#x3C;</span><span style=\"color:#1E754F\">link</span><span style=\"color:#B07D48\"> rel</span><span style=\"color:#999999\">=</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#B56959\">preload</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#B07D48\"> href</span><span style=\"color:#999999\">=</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#B56959\">app.js</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#B07D48\"> as</span><span style=\"color:#999999\">=</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#B56959\">script</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#999999\">></span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"></span></code></pre></div></code></pre>\n</li>\n<li>\n<p><strong>CDN分发与HTTP/2</strong></p>\n<ul>\n<li>静态资源走CDN加速，启用HTTP/2多路复用降低延迟；</li>\n<li>开启Gzip/Brotli压缩传输。</li>\n</ul>\n</li>\n</ol>\n<p><strong>二、渲染性能优化</strong></p>\n<ol>\n<li>\n<p><strong>减少重排与重绘</strong></p>\n<ul>\n<li>使用<code>transform</code>/<code>opacity</code>触发GPU加速（合成层）；</li>\n<li>避免频繁操作DOM，批量修改样式（如<code>requestAnimationFrame</code>）。</li>\n</ul>\n</li>\n<li>\n<p><strong>首屏加速策略</strong></p>\n<ul>\n<li><strong>SSR/CSR结合</strong>：首屏服务端渲染，后续交互客户端渲染；</li>\n<li><strong>骨架屏</strong>：优先展示页面框架，缓解加载等待感。</li>\n</ul>\n</li>\n<li>\n<p><strong>异步加载非关键资源</strong></p>\n<pre><code class=\"language-javascript\"><div class=\"language-javascript \"><span class=\"lang\">javascript</span><pre class=\"shiki vitesse-light\" style=\"background-color:#ffffff;color:#393a34\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#A0ADA0\">// 延迟加载非首屏JS  </span></span>\n<span class=\"line\"><span style=\"color:#B07D48\">window</span><span style=\"color:#999999\">.</span><span style=\"color:#59873A\">addEventListener</span><span style=\"color:#999999\">(</span><span style=\"color:#B5695977\">'</span><span style=\"color:#B56959\">load</span><span style=\"color:#B5695977\">'</span><span style=\"color:#999999\">,</span><span style=\"color:#999999\"> ()</span><span style=\"color:#999999\"> =></span><span style=\"color:#999999\"> {</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#AB5959\">  const</span><span style=\"color:#B07D48\"> script</span><span style=\"color:#999999\"> =</span><span style=\"color:#B07D48\"> document</span><span style=\"color:#999999\">.</span><span style=\"color:#59873A\">createElement</span><span style=\"color:#999999\">(</span><span style=\"color:#B5695977\">'</span><span style=\"color:#B56959\">script</span><span style=\"color:#B5695977\">'</span><span style=\"color:#999999\">);</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#B07D48\">  script</span><span style=\"color:#999999\">.</span><span style=\"color:#B07D48\">src</span><span style=\"color:#999999\"> =</span><span style=\"color:#B5695977\"> '</span><span style=\"color:#B56959\">non-critical.js</span><span style=\"color:#B5695977\">'</span><span style=\"color:#999999\">;</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#B07D48\">  document</span><span style=\"color:#999999\">.</span><span style=\"color:#B07D48\">body</span><span style=\"color:#999999\">.</span><span style=\"color:#59873A\">appendChild</span><span style=\"color:#999999\">(</span><span style=\"color:#B07D48\">script</span><span style=\"color:#999999\">);</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#999999\">});</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"></span></code></pre></div></code></pre>\n</li>\n</ol>\n<p><strong>三、缓存策略强化</strong></p>\n<ol>\n<li>\n<p><strong>HTTP缓存控制</strong></p>\n<ul>\n<li>强缓存：<code>Cache-Control: max-age=31536000</code>（一年）；</li>\n<li>协商缓存：<code>ETag</code>/<code>Last-Modified</code> 验证资源新鲜度。</li>\n</ul>\n</li>\n<li>\n<p><strong>本地存储缓存</strong></p>\n<ul>\n<li><strong>Service Worker</strong>：实现离线可用，拦截请求返回缓存副本；</li>\n<li><strong>LocalStorage</strong>：缓存API响应数据（如用户配置）。</li>\n</ul>\n</li>\n<li>\n<p><strong>WebView自带缓存</strong></p>\n<ul>\n<li><strong>Android</strong>：启用<code>WebSettings.setCacheMode(WebSettings.LOAD_CACHE_ELSE_NETWORK)</code>；</li>\n<li><strong>iOS</strong>：配置<code>NSURLRequestUseProtocolCachePolicy</code>。</li>\n</ul>\n</li>\n</ol>\n<p><strong>四、WebView实例管理</strong></p>\n<ol>\n<li>\n<p><strong>WebView复用池</strong></p>\n<ul>\n<li>预初始化多个WebView实例，避免重复创建开销（参考Flutter <code>WebView</code>插件复用策略）。</li>\n</ul>\n</li>\n<li>\n<p><strong>进程独立与硬件加速</strong></p>\n<ul>\n<li><strong>Android</strong>：设置<code>WebView.enableSlowWholeDocumentDraw()</code>提升渲染；</li>\n<li><strong>iOS</strong>：开启<code>WKWebViewConfiguration.requiresUserActionForMediaPlayback = NO</code>优化媒体加载。</li>\n</ul>\n</li>\n<li>\n<p><strong>内存泄漏预防</strong></p>\n<ul>\n<li><strong>销毁机制</strong>：页面关闭时主动调用<code>WebView.destroy()</code>；</li>\n<li><strong>监听解绑</strong>：移除所有JS→Native的事件监听器。</li>\n</ul>\n</li>\n</ol>\n<p><strong>五、JS通信优化</strong></p>\n<ol>\n<li>\n<p><strong>减少JSBridge调用频率</strong></p>\n<ul>\n<li>合并多次调用（如定位+上传数据合并为一次Native调用）；</li>\n<li>使用<code>Promise</code>批量处理异步请求。</li>\n</ul>\n</li>\n<li>\n<p><strong>数据序列化优化</strong></p>\n<ul>\n<li>使用JSON替代XML，压缩传输体积；</li>\n<li>二进制数据传输（如<code>ArrayBuffer</code>处理图片流）。</li>\n</ul>\n</li>\n</ol>\n<p><strong>性能分析工具</strong></p>\n<table>\n<thead>\n<tr>\n<th><strong>工具</strong></th>\n<th><strong>用途</strong></th>\n</tr>\n</thead>\n</table>\n","answer":""},{"title":"uniapp 如何做分包？","description":"","answer":"<p>在 <code>manifest.json</code> 中配置 <code>subPackages</code> 划分模块，通过分包降低主包体积，提升小程序加载速度。</p>\n<ol>\n<li>\n<p><strong>配置分包</strong></p>\n<pre><code class=\"language-json\"><div class=\"language-json \"><span class=\"lang\">json</span><pre class=\"shiki vitesse-light\" style=\"background-color:#ffffff;color:#393a34\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#A0ADA0\">// manifest.json  </span></span>\n<span class=\"line\"><span style=\"color:#999999\">{</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#99841877\">  \"</span><span style=\"color:#998418\">mp-weixin</span><span style=\"color:#99841877\">\"</span><span style=\"color:#999999\">:</span><span style=\"color:#999999\"> {</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#99841877\">    \"</span><span style=\"color:#998418\">optimization</span><span style=\"color:#99841877\">\"</span><span style=\"color:#999999\">:</span><span style=\"color:#999999\"> {</span><span style=\"color:#99841877\"> \"</span><span style=\"color:#998418\">subPackages</span><span style=\"color:#99841877\">\"</span><span style=\"color:#999999\">:</span><span style=\"color:#1E754F\"> true</span><span style=\"color:#999999\"> },</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#99841877\">    \"</span><span style=\"color:#998418\">subPackages</span><span style=\"color:#99841877\">\"</span><span style=\"color:#999999\">:</span><span style=\"color:#999999\"> [</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#999999\">      {</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#99841877\">        \"</span><span style=\"color:#998418\">root</span><span style=\"color:#99841877\">\"</span><span style=\"color:#999999\">:</span><span style=\"color:#B5695977\"> \"</span><span style=\"color:#B56959\">subpackageA</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#999999\">,</span><span style=\"color:#A0ADA0\">  // 分包根目录  </span></span>\n<span class=\"line\"><span style=\"color:#99841877\">        \"</span><span style=\"color:#998418\">pages</span><span style=\"color:#99841877\">\"</span><span style=\"color:#999999\">:</span><span style=\"color:#999999\"> [</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#B5695977\">          \"</span><span style=\"color:#B56959\">pages/page1</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#999999\">,</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#B5695977\">          \"</span><span style=\"color:#B56959\">pages/page2</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#999999\">        ]</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#999999\">      }</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#999999\">    ]</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#999999\">  }</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#999999\">}</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"></span></code></pre></div></code></pre>\n</li>\n<li>\n<p><strong>目录结构</strong></p>\n<pre><code><div class=\"language-text \"><span class=\"lang\">text</span><pre class=\"shiki vitesse-light\" style=\"background-color:#ffffff;color:#393a34\" tabindex=\"0\"><code><span class=\"line\"><span>├── subpackageA/        // 分包目录  </span></span>\n<span class=\"line\"><span>│   ├── pages/  </span></span>\n<span class=\"line\"><span>│   │   ├── page1.vue  </span></span>\n<span class=\"line\"><span>│   │   └── page2.vue  </span></span>\n<span class=\"line\"><span>├── pages/              // 主包页面  </span></span>\n<span class=\"line\"><span>│   ├── index.vue  </span></span>\n<span class=\"line\"><span>├── manifest.json  </span></span>\n<span class=\"line\"><span></span></span></code></pre></div></code></pre>\n</li>\n<li>\n<p><strong>分包预加载</strong>（可选）</p>\n<pre><code class=\"language-json\"><div class=\"language-json \"><span class=\"lang\">json</span><pre class=\"shiki vitesse-light\" style=\"background-color:#ffffff;color:#393a34\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#B5695977\">\"</span><span style=\"color:#B56959\">preloadRule</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#393A34\">: </span><span style=\"color:#999999\">{</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#99841877\">  \"</span><span style=\"color:#998418\">pages/index</span><span style=\"color:#99841877\">\"</span><span style=\"color:#999999\">:</span><span style=\"color:#999999\"> {</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#99841877\">    \"</span><span style=\"color:#998418\">network</span><span style=\"color:#99841877\">\"</span><span style=\"color:#999999\">:</span><span style=\"color:#B5695977\"> \"</span><span style=\"color:#B56959\">all</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#999999\">,</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#99841877\">    \"</span><span style=\"color:#998418\">packages</span><span style=\"color:#99841877\">\"</span><span style=\"color:#999999\">:</span><span style=\"color:#999999\"> [</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#B56959\">subpackageA</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#999999\">]</span><span style=\"color:#A0ADA0\">  // 进入首页时预加载指定分包  </span></span>\n<span class=\"line\"><span style=\"color:#999999\">  }</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#999999\">}</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"></span></code></pre></div></code></pre>\n</li>\n</ol>\n<p><strong>注意事项</strong>：</p>\n<ul>\n<li><strong>主包限制</strong>：微信小程序主包≤2MB，总包≤20MB；</li>\n<li><strong>资源引用</strong>：分包内静态资源（如图片）需放在分包目录内，主包不能直接引用分包资源；</li>\n<li><strong>跳转路径</strong>：使用 <code>uni.navigateTo</code> 跳转时分包路径需写全（如 <code>/subpackageA/pages/page1</code>）；</li>\n<li><strong>组件共享</strong>：跨包复用组件可通过 <code>uni.$emit</code>/<code>uni.$on</code> 通信或提取到公共目录（但会增加主包体积）。</li>\n</ul>\n<p><strong>效果</strong>：首屏加载仅下载主包，分包按需加载，优化用户体验。</p>\n"},{"title":"微信小程序生命周期有哪些？","description":"","answer":"<p>微信小程序生命周期分为<strong>应用生命周期</strong>、<strong>页面生命周期</strong>和<strong>组件生命周期</strong>，控制不同层级的初始化、渲染与销毁流程。</p>\n<ol>\n<li>\n<p><strong>应用生命周期</strong>（在 <code>app.js</code> 中定义）</p>\n<ul>\n<li><strong>onLaunch</strong>：小程序初始化时触发（全局只一次）；</li>\n<li><strong>onShow</strong>：小程序启动或从后台进入前台时触发；</li>\n<li><strong>onHide</strong>：小程序从前台进入后台时触发（如切到其他App）；</li>\n<li><strong>onError</strong>：脚本错误或API调用失败时触发。</li>\n</ul>\n</li>\n<li>\n<p><strong>页面生命周期</strong>（在 <code>Page</code> 中定义）</p>\n<ul>\n<li><strong>onLoad</strong>：页面加载时触发（接收路由参数）；</li>\n<li><strong>onShow</strong>：页面显示/切入前台时触发；</li>\n<li><strong>onReady</strong>：页面初次渲染完成时触发（可操作DOM）；</li>\n<li><strong>onHide</strong>：页面隐藏/切入后台时触发（如跳转其他页面）；</li>\n<li><strong>onUnload</strong>：页面卸载时触发（如页面被销毁或路由跳离）。</li>\n</ul>\n</li>\n<li>\n<p><strong>组件生命周期</strong>（在 <code>Component</code> 中定义）</p>\n<ul>\n<li><strong>created</strong>：组件实例化后触发（不可操作DOM）；</li>\n<li><strong>attached</strong>：组件插入页面节点树时触发；</li>\n<li><strong>ready</strong>：组件渲染完成（可操作DOM）；</li>\n<li><strong>moved</strong>：组件被移动到其他节点树时触发；</li>\n<li><strong>detached</strong>：组件从节点树移除时触发。</li>\n</ul>\n</li>\n</ol>\n<p><strong>补充特性</strong>：</p>\n<ul>\n<li><strong>页面事件处理函数</strong>（非严格生命周期）：\n<ul>\n<li><code>onPullDownRefresh</code>：下拉刷新；</li>\n<li><code>onReachBottom</code>：页面滚动到底部；</li>\n<li><code>onShareAppMessage</code>：用户点击分享按钮。</li>\n</ul>\n</li>\n<li><strong>新版生命周期</strong>：组件支持 <code>lifetimes</code> 字段集中定义（优先级更高）。</li>\n</ul>\n<p><strong>执行顺序示例</strong>：<br>\n启动小程序 → <code>App.onLaunch</code> → <code>App.onShow</code> → <code>Page.onLoad</code> → <code>Page.onShow</code> → <code>Page.onReady</code>。</p>\n"},{"title":"微信小程序的组件和页面有什么区别？","description":"<p>组件是<strong>可复用的UI模块</strong>，嵌入页面中使用；页面是<strong>独立的视图单元</strong>，承载路由与业务逻辑，两者在结构、生命周期及作用域上存在差异。</p>\n<table>\n<thead>\n<tr>\n<th><strong>对比维度</strong></th>\n<th><strong>组件 (Component)</strong></th>\n<th><strong>页面 (Page)</strong></th>\n</tr>\n</thead>\n</table>\n","answer":""},{"title":"微信小程序如何获取元素宽高？","description":"","answer":"<p>通过 <code>SelectorQuery</code> API 获取元素节点信息，结合 <code>boundingClientRect</code> 回调异步获取宽高数据。</p>\n<ol>\n<li>\n<p><strong>创建节点查询对象</strong></p>\n<pre><code class=\"language-javascript\"><div class=\"language-javascript \"><span class=\"lang\">javascript</span><pre class=\"shiki vitesse-light\" style=\"background-color:#ffffff;color:#393a34\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#AB5959\">const</span><span style=\"color:#B07D48\"> query</span><span style=\"color:#999999\"> =</span><span style=\"color:#B07D48\"> wx</span><span style=\"color:#999999\">.</span><span style=\"color:#59873A\">createSelectorQuery</span><span style=\"color:#999999\">();</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"></span></code></pre></div></code></pre>\n</li>\n<li>\n<p><strong>选择目标元素并获取尺寸</strong></p>\n<pre><code class=\"language-javascript\"><div class=\"language-javascript \"><span class=\"lang\">javascript</span><pre class=\"shiki vitesse-light\" style=\"background-color:#ffffff;color:#393a34\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#A0ADA0\">// 通过类名或ID选择元素（类似CSS选择器）  </span></span>\n<span class=\"line\"><span style=\"color:#B07D48\">query</span><span style=\"color:#999999\">.</span><span style=\"color:#59873A\">select</span><span style=\"color:#999999\">(</span><span style=\"color:#B5695977\">'</span><span style=\"color:#B56959\">.target-class</span><span style=\"color:#B5695977\">'</span><span style=\"color:#999999\">).</span><span style=\"color:#59873A\">boundingClientRect</span><span style=\"color:#999999\">(</span><span style=\"color:#B07D48\">rect</span><span style=\"color:#999999\"> =></span><span style=\"color:#999999\"> {</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#B07D48\">    console</span><span style=\"color:#999999\">.</span><span style=\"color:#59873A\">log</span><span style=\"color:#999999\">(</span><span style=\"color:#B5695977\">'</span><span style=\"color:#B56959\">宽度:</span><span style=\"color:#B5695977\">'</span><span style=\"color:#999999\">,</span><span style=\"color:#B07D48\"> rect</span><span style=\"color:#999999\">.</span><span style=\"color:#B07D48\">width</span><span style=\"color:#999999\">,</span><span style=\"color:#B5695977\"> '</span><span style=\"color:#B56959\">高度:</span><span style=\"color:#B5695977\">'</span><span style=\"color:#999999\">,</span><span style=\"color:#B07D48\"> rect</span><span style=\"color:#999999\">.</span><span style=\"color:#B07D48\">height</span><span style=\"color:#999999\">);</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#999999\">}).</span><span style=\"color:#59873A\">exec</span><span style=\"color:#999999\">();</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"></span></code></pre></div></code></pre>\n</li>\n<li>\n<p><strong>多元素批量获取</strong></p>\n<pre><code class=\"language-javascript\"><div class=\"language-javascript \"><span class=\"lang\">javascript</span><pre class=\"shiki vitesse-light\" style=\"background-color:#ffffff;color:#393a34\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#B07D48\">query</span><span style=\"color:#999999\">.</span><span style=\"color:#59873A\">selectAll</span><span style=\"color:#999999\">(</span><span style=\"color:#B5695977\">'</span><span style=\"color:#B56959\">.list-item</span><span style=\"color:#B5695977\">'</span><span style=\"color:#999999\">).</span><span style=\"color:#59873A\">boundingClientRect</span><span style=\"color:#999999\">(</span><span style=\"color:#B07D48\">rects</span><span style=\"color:#999999\"> =></span><span style=\"color:#999999\"> {</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#B07D48\">    rects</span><span style=\"color:#999999\">.</span><span style=\"color:#59873A\">forEach</span><span style=\"color:#999999\">(</span><span style=\"color:#B07D48\">rect</span><span style=\"color:#999999\"> =></span><span style=\"color:#999999\"> {</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#B07D48\">        console</span><span style=\"color:#999999\">.</span><span style=\"color:#59873A\">log</span><span style=\"color:#999999\">(</span><span style=\"color:#B5695977\">'</span><span style=\"color:#B56959\">单个元素宽度:</span><span style=\"color:#B5695977\">'</span><span style=\"color:#999999\">,</span><span style=\"color:#B07D48\"> rect</span><span style=\"color:#999999\">.</span><span style=\"color:#B07D48\">width</span><span style=\"color:#999999\">);</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#999999\">    });</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#999999\">}).</span><span style=\"color:#59873A\">exec</span><span style=\"color:#999999\">();</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"></span></code></pre></div></code></pre>\n</li>\n</ol>\n<p><strong>关键参数说明</strong>：</p>\n<ul>\n<li><strong><code>boundingClientRect</code> 返回字段</strong>：\n<ul>\n<li><code>width</code>/<code>height</code>：元素宽高（含 <code>padding</code>，不含 <code>margin</code>）；</li>\n<li><code>left</code>/<code>top</code>：元素左上角相对于视口的坐标；</li>\n<li><code>right</code>/<code>bottom</code>：元素右下角相对于视口的坐标。</li>\n</ul>\n</li>\n</ul>\n<p><strong>注意事项</strong>：</p>\n<ul>\n<li><strong>异步执行</strong>：<code>exec()</code> 方法在页面渲染完成后触发回调；</li>\n<li><strong>生命周期限制</strong>：需在 <code>onReady</code> 或之后调用，确保元素已渲染；</li>\n<li><strong>自定义组件</strong>：若目标元素在自定义组件内，需传入组件实例：<pre><code class=\"language-javascript\"><div class=\"language-javascript \"><span class=\"lang\">javascript</span><pre class=\"shiki vitesse-light\" style=\"background-color:#ffffff;color:#393a34\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#AB5959\">const</span><span style=\"color:#B07D48\"> query</span><span style=\"color:#999999\"> =</span><span style=\"color:#B07D48\"> wx</span><span style=\"color:#999999\">.</span><span style=\"color:#59873A\">createSelectorQuery</span><span style=\"color:#999999\">().</span><span style=\"color:#59873A\">in</span><span style=\"color:#999999\">(</span><span style=\"color:#A65E2B\">this</span><span style=\"color:#999999\">);</span><span style=\"color:#A0ADA0\"> // this为组件实例  </span></span>\n<span class=\"line\"></span></code></pre></div></code></pre>\n</li>\n</ul>\n<p><strong>示例场景</strong>：动态计算列表高度适配滚动区域、弹窗居中定位、动画起始位置计算等。</p>\n"},{"title":"微信小程序和 vue 写法上有什么不同？","description":"<p>微信小程序与Vue在<strong>模板语法</strong>、<strong>数据绑定</strong>、<strong>生命周期</strong>及<strong>组件化设计</strong>上存在差异，需注意API调用方式与响应式机制的区别。</p>\n<table>\n<thead>\n<tr>\n<th><strong>对比维度</strong></th>\n<th><strong>微信小程序</strong></th>\n<th><strong>Vue</strong></th>\n</tr>\n</thead>\n</table>\n","answer":""},{"title":"微信小程序跳转页面有几种方式？","description":"<p>微信小程序页面跳转方式包括<strong>导航API跳转</strong>和<strong>组件式跳转</strong>两类，共5种API方法，控制不同层级与历史栈管理。</p>\n<table>\n<thead>\n<tr>\n<th><strong>方法</strong></th>\n<th><strong>作用</strong></th>\n<th><strong>特点</strong></th>\n<th><strong>代码示例</strong></th>\n</tr>\n</thead>\n</table>\n","answer":""},{"title":"微信小程序中 app.json 有什么用？和 page.json 有什么区别？","description":"<p><code>app.json</code> 是小程序的<strong>全局配置</strong>，定义应用级行为与样式；<code>page.json</code> 是页面的<strong>局部配置</strong>，覆盖全局设置并定义页面特有属性。</p>\n<table>\n<thead>\n<tr>\n<th><strong>对比维度</strong></th>\n<th><strong>app.json</strong></th>\n<th><strong>page.json</strong>（页面同名.json文件）</th>\n</tr>\n</thead>\n</table>\n","answer":""},{"title":"JSBridge 是什么？说说原理","description":"","answer":"<p>JSBridge 是 <strong>Web 与原生应用通信的桥梁</strong>，通过注入 API 或拦截 URL Scheme 实现双向调用和数据交换。</p>\n<p><strong>核心原理</strong>：</p>\n<ol>\n<li>\n<p><strong>通信机制</strong>：</p>\n<ul>\n<li><strong>Web → 原生</strong>：\n<ul>\n<li><strong>注入全局方法</strong>（如 Android 的 <code>addJavascriptInterface</code>、iOS 的 <code>JavaScriptCore</code>），H5 直接调用原生方法；</li>\n<li><strong>URL Scheme 拦截</strong>：H5 触发伪协议请求（如 <code>jsbridge://method?params=xxx</code>），原生拦截解析后执行对应逻辑。</li>\n</ul>\n</li>\n<li><strong>原生 → Web</strong>：\n<ul>\n<li><strong>执行 JS 代码</strong>：原生通过 <code>WebView.evaluateJavascript</code>（Android）/<code>stringByEvaluatingJavaScript</code>（iOS）调用 H5 全局函数或回调。</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>实现步骤</strong>：</p>\n<ul>\n<li><strong>初始化 Bridge</strong>：\n<ul>\n<li>原生向 WebView 注入通信对象（如 <code>window.JSBridge</code>），暴露调用方法；</li>\n<li>H5 定义接收原生消息的全局函数（如 <code>window.handleNativeMessage</code>）。</li>\n</ul>\n</li>\n<li><strong>双向调用示例</strong>：<pre><code class=\"language-javascript\"><div class=\"language-javascript \"><span class=\"lang\">javascript</span><pre class=\"shiki vitesse-light\" style=\"background-color:#ffffff;color:#393a34\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#A0ADA0\">// H5 调用原生（通过注入方法）  </span></span>\n<span class=\"line\"><span style=\"color:#B07D48\">window</span><span style=\"color:#999999\">.</span><span style=\"color:#B07D48\">JSBridge</span><span style=\"color:#999999\">.</span><span style=\"color:#59873A\">getLocation</span><span style=\"color:#999999\">(</span><span style=\"color:#B07D48\">data</span><span style=\"color:#999999\"> =></span><span style=\"color:#999999\"> {</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#B07D48\">    console</span><span style=\"color:#999999\">.</span><span style=\"color:#59873A\">log</span><span style=\"color:#999999\">(</span><span style=\"color:#B5695977\">'</span><span style=\"color:#B56959\">位置数据:</span><span style=\"color:#B5695977\">'</span><span style=\"color:#999999\">,</span><span style=\"color:#B07D48\"> data</span><span style=\"color:#999999\">);</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#999999\">});</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#A0ADA0\">// H5 调用原生（通过 URL Scheme）  </span></span>\n<span class=\"line\"><span style=\"color:#AB5959\">const</span><span style=\"color:#B07D48\"> iframe</span><span style=\"color:#999999\"> =</span><span style=\"color:#B07D48\"> document</span><span style=\"color:#999999\">.</span><span style=\"color:#59873A\">createElement</span><span style=\"color:#999999\">(</span><span style=\"color:#B5695977\">'</span><span style=\"color:#B56959\">iframe</span><span style=\"color:#B5695977\">'</span><span style=\"color:#999999\">);</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#B07D48\">iframe</span><span style=\"color:#999999\">.</span><span style=\"color:#B07D48\">src</span><span style=\"color:#999999\"> =</span><span style=\"color:#B5695977\"> '</span><span style=\"color:#B56959\">jsbridge://getLocation?lat=30.11&#x26;lng=120.22</span><span style=\"color:#B5695977\">'</span><span style=\"color:#999999\">;</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#B07D48\">document</span><span style=\"color:#999999\">.</span><span style=\"color:#B07D48\">body</span><span style=\"color:#999999\">.</span><span style=\"color:#59873A\">appendChild</span><span style=\"color:#999999\">(</span><span style=\"color:#B07D48\">iframe</span><span style=\"color:#999999\">);</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#59873A\">setTimeout</span><span style=\"color:#999999\">(()</span><span style=\"color:#999999\"> =></span><span style=\"color:#B07D48\"> iframe</span><span style=\"color:#999999\">.</span><span style=\"color:#59873A\">remove</span><span style=\"color:#999999\">(),</span><span style=\"color:#2F798A\"> 100</span><span style=\"color:#999999\">);</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#A0ADA0\">// 原生调用 H5  </span></span>\n<span class=\"line\"><span style=\"color:#B07D48\">webView</span><span style=\"color:#999999\">.</span><span style=\"color:#59873A\">evaluateJavascript</span><span style=\"color:#999999\">(</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#B56959\">window.handleNativeMessage({ event: 'refresh' })</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#999999\">);</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"></span></code></pre></div></code></pre>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>数据协议设计</strong>：</p>\n<ul>\n<li><strong>标准化格式</strong>：定义 JSON 结构传递方法名、参数、回调 ID（用于异步响应），如：<pre><code class=\"language-json\"><div class=\"language-json \"><span class=\"lang\">json</span><pre class=\"shiki vitesse-light\" style=\"background-color:#ffffff;color:#393a34\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color:#999999\">{</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#99841877\">  \"</span><span style=\"color:#998418\">method</span><span style=\"color:#99841877\">\"</span><span style=\"color:#999999\">:</span><span style=\"color:#B5695977\"> \"</span><span style=\"color:#B56959\">share</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#999999\">,</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#99841877\">  \"</span><span style=\"color:#998418\">params</span><span style=\"color:#99841877\">\"</span><span style=\"color:#999999\">:</span><span style=\"color:#999999\"> {</span><span style=\"color:#99841877\"> \"</span><span style=\"color:#998418\">title</span><span style=\"color:#99841877\">\"</span><span style=\"color:#999999\">:</span><span style=\"color:#B5695977\"> \"</span><span style=\"color:#B56959\">标题</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#999999\"> },</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#99841877\">  \"</span><span style=\"color:#998418\">callbackId</span><span style=\"color:#99841877\">\"</span><span style=\"color:#999999\">:</span><span style=\"color:#B5695977\"> \"</span><span style=\"color:#B56959\">cb_123</span><span style=\"color:#B5695977\">\"</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"><span style=\"color:#999999\">}</span><span style=\"color:#393A34\">  </span></span>\n<span class=\"line\"></span></code></pre></div></code></pre>\n</li>\n<li><strong>回调管理</strong>：H5 和原生各自维护回调队列，通过 <code>callbackId</code> 匹配请求与响应。</li>\n</ul>\n</li>\n</ol>\n<p><strong>关键优化点</strong>：</p>\n<ul>\n<li><strong>长连接复用</strong>：避免频繁创建 iframe 或 HTTP 请求；</li>\n<li><strong>消息队列</strong>：网络延迟时缓存消息，确保顺序执行；</li>\n<li><strong>安全性</strong>：限制暴露的原生方法，校验来源和参数。</li>\n</ul>\n<p><strong>应用场景</strong>：</p>\n<ul>\n<li>混合 App（H5 调用相机、GPS 等硬件功能）；</li>\n<li>小程序框架底层通信；</li>\n<li>React Native/Flutter 与 WebView 交互。</li>\n</ul>\n<p><strong>常见实现库</strong>：</p>\n<ul>\n<li><strong>WebViewJavascriptBridge</strong>（iOS/Android）</li>\n<li><strong>DSBridge</strong>（跨平台高性能）</li>\n<li>自研轻量 Bridge（基于项目定制）</li>\n</ul>\n<p><strong>总结</strong>：JSBridge 本质是 <strong>基于 WebView 的跨语言通信方案</strong>，通过约定协议打通 JavaScript 与原生代码的调用链路，是混合开发的核心技术基础。</p>\n"},{"title":"为什么小程序中无法使用 dom 相关的 api？","description":"","answer":"<p>小程序（如微信小程序、支付宝小程序等）无法使用 DOM 相关的 API 主要是因为它们的设计目标和运行环境与传统的 Web 应用有所不同。以下是一些原因：</p>\n<p><strong>1. 运行环境限制</strong></p>\n<p>小程序运行在一个沙箱环境中，这个环境与传统的浏览器环境不同。小程序的渲染引擎通常是针对特定平台进行优化的，不完全依赖于浏览器的 DOM 和 CSSOM 结构。为了保证跨平台的一致性和安全性，开发者无法直接操作 DOM。</p>\n<p><strong>2. 设计目标</strong></p>\n<ul>\n<li><strong>跨平台一致性</strong>：小程序的目标是让应用能够在不同的操作系统（如 iOS 和 Android）上以一致的方式运行。直接操作 DOM 可能导致平台间的不一致性，因此小程序框架提供了自己的视图层来保证一致性。</li>\n<li><strong>性能和安全性</strong>：直接操作 DOM 可能会影响性能和引入安全风险。小程序框架通过抽象和优化渲染过程来提高性能，并提供了更高的安全性。</li>\n</ul>\n<p><strong>3. 使用小程序的视图层</strong></p>\n<p>小程序使用自己的视图层（如 WXML 和 WXSS）来描述界面。这些视图层通过特定的 API 进行操作，开发者通过调用小程序提供的 API 来更新视图、处理用户交互等，而不是直接操作 DOM。这样做可以将视图渲染和逻辑处理分离，简化开发和维护。</p>\n<p><strong>4. 组件化</strong></p>\n<p>小程序强调组件化开发，通过定义组件并使用组件的生命周期来管理 UI 和交互。组件内部封装了 DOM 操作的细节，开发者只需关注组件的属性和事件，而不需要直接操作 DOM 元素。</p>\n"},{"title":"怎么进行移动端的调试？","description":"","answer":""},{"title":"说说你对 taro 的了解","description":"","answer":""}]